# Model leaderboard

This is a summary of the models developed and trained on the ClinicalTrials.gov dataset.

The training scripts are all included here as Jupyter notebooks.

Models which are currently included in the tool are marked with an asterisk. Where more than models are starred for a given parameter, the models are combined in an ensemble.

| Parameter to predict             | Model description                                                   | Accuracy (%)             | AUC                                                       | AUC                  | Running on?      | How many epochs?   | Notes                                                           |            |              |
|----------------------------------| ------------------------------------------------------------------- | ------------------------ | --------------------------------------------------------- | -------------------- | ---------------- | ------------------ | --------------------------------------------------------------- | ---------- | ------------ |
| ARMS                             |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 1                                | NB                                                                  | 53                       |                                                           | 71                   |                  |                    |                                                                 |            |              |
| 2                                | Regex                                                               | 28                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 3                                | NB                                                                  | 44                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 4                                |                                                                     | 11                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 5                                |                                                                     | 55                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 6                                |                                                                     | 54                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 7                                |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 8                                | Textcat                                                             | 41                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 9                                |                                                                     | 54                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 10                               | Textcat with pre-filtering                                          | 66                       |                                                           |                      | running on Colab |                    |                                                                 |            |              |
| 11                               | NB with pre-filltering and bigrams, 1500 vocab                      | 60                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 12                               | Colab – BERT                                                        | crashed                  |                                                           |                      | running on Colab |                    | kept running out of memory                                      |            |              |
| 13                               | Colab – Keras                                                       | 65                       |                                                           |                      | running on Colab |                    |                                                                 |            |              |
| 14                               | Spacy – more iterations                                             | 61                       |                                                           |                      | running locally  |                    | Idea: use multi-headed network to kill all birds with one stone |            |              |
| 15                               | Keras – more iterations – class weights                             | 62                       |                                                           |                      | running on Colab |                    |                                                                 |            |              |
| 16                               | Keras – with class imbalance corrected in training data             | 62                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 17                               | Spacy in notebook                                                   | 57                       |                                                           | 79                   |                  |                    |                                                                 |            |              |
| 18                               | Spacy from command line                                             | 60                       |                                                           | 57                   |                  |                    |                                                                 |            |              |
| 19                               | Spacy in notebook – augmented with upsampling                       | didn’t run               |                                                           |                      |                  |                    |                                                                 |            |              |
| 20                               | Spacy first 10 pages only 3 classes                                 | 52                       |                                                           | 66                   |                  |                    |                                                                 |            |              |
| 21 *                             | Spacy num arms with 3 classes and pre-filtered text                 | 67                       |                                                           | 78                   |                  |                    |                                                                 |            |              |
| 22                               | Naive Bayes with bigrams 3 classes                                  | 53                       |                                                           | 72                   |                  |                    |                                                                 |            |              |
| 23                               | Naive Bayes with bigrams 3 classes predetermined vocab              | 55                       |                                                           | 73                   |                  |                    |                                                                 |            |              |
| 24 *                             | Naive Bayes with bigrams 3 classes predetermined vocab cleaned up   |                          |                                                           |                      |                  |                    |                                                                 |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| PHASE                            |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 0                                | baseline original rule based                                        | 50                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 1                                | spacy                                                               | crashed                  |                                                           | running on Sagemaker |                  |                    |                                                                 |            |              |
| 2                                | Naive Bayes with bigrams                                            | 51                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 3                                | Naive Bayes with unigrams                                           | 49                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 4 *                              | Spacy in command line on first 3 pages                              | 53                       | 76 AUC                                                    |                      |                  |                    |                                                                 |            |              |
| 5                                | Keras on first 6 pages                                              | 53                       | 78 AUC                                                    |                      |                  |                    |                                                                 |            |              |
| 6 *                              | Random Forest on Rule Based Features                                |                          |                                                           |                      |                  |                    |                                                                 |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| SUBJECTS                         |                                                                     |                          | (if adjacent bins are included)                           |                      |                  |                    |                                                                 |            |              |
| 1                                | Naive Bayes with unigrams                                           | 29                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 2                                | Keras                                                               | 33                       | 68                                                        |                      |                  |                    |                                                                 |            |              |
| 3                                | Keras – regression – optimising mean absolute percentage error      | 24                       | 42                                                        |                      |                  |                    |                                                                 |            |              |
| 4                                | Keras – regression – optimising mean absolute error, 20 iterations  | 31                       | 71                                                        |                      |                  |                    |                                                                 |            |              |
| 5                                | Keras – regression – optimising mean absolute error, 100 iterations | 30                       | 68                                                        |                      |                  |                    |                                                                 |            |              |
| 5                                | Keras – regression – optimising mean absolute error, 30 iterations  | 33                       | 75                                                        |                      |                  |                    |                                                                 |            |              |
| 6                                | Keras – regression – optimising mean absolute error, 30 iterations  | 33                       | 75                                                        |                      |                  |                    |                                                                 |            |              |
| 7                                | Keras – regression – optimising MSE, 30 iterations                  | 10                       | 30                                                        |                      |                  |                    |                                                                 |            |              |
| 8                                | Pre-existing rule based process                                     | 42                       | 69                                                        |                      |                  |                    |                                                                 |            |              |
| 10                               | Keras on preprocessed candidate texts                               | 32                       | 59                                                        |                      |                  |                    |                                                                 |            |              |
| 11                               | Spacy on first 3 pages                                              | 29                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 12                               | Spacy on first 10 pages                                             | 27                       |                                                           | AUC 61%              |                  |                    |                                                                 |            |              |
| 13                               | Spacy on first 10 pages equal quantiles fewer bins                  | 30                       |                                                           | AUC 60%              |                  |                    |                                                                 |            |              |
| 14 *                             | Naive Bayes with bigrams                                            | 51                       |                                                           | AUC 71%              |                  |                    |                                                                 |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| PHASE+ARMS+SUBJECTS              |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 1                                | Spacy predicting phase+arms+subjects                                | never got this to finish |                                                           |                      | running on Colab |                    |                                                                 |            |              |
| 2                                | Keras predicting phase+arms+subjects                                | phase                    | arms                                                      | subjects             | SAP              |                    |                                                                 |            |              |
|                                  |                                                                     | 45                       | 53                                                        | 26                   |                  | ← after 10 epochs  |                                                                 |            |              |
|                                  |                                                                     | 56                       | 56                                                        |                      |                  | ← after 41 epochs  |                                                                 |            |              |
|                                  |                                                                     | 54                       | 55                                                        | 29                   |                  | ← after 100 epochs | 66 for subjects if adjacent bins are included                   |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 3                                | Keras predicting phase+arms+subjects – better preprocessing         | 57                       | 56                                                        | 30                   | 83               | ← after 100 epochs | running on Colab                                                |            | wasn’t saved |
| 4                                | Spacy predicting phase+arms+subjects – better preprocessing         |                          |                                                           |                      |                  |                    | running on Colab                                                | ← crashhed |              |
| 5                                | Spacy with config file                                              |                          | ran out of memorry                                        |                      |                  |                    | running on Colab                                                |            |              |
| 6                                | Spacy with config file – no transformers – GPU                      | 45                       | 55                                                        | 28                   | 80               |                    |                                                                 |            |              |
| 7                                | Spacy with config file – no transformers – CPU                      | 9                        | 50                                                        | 22                   | 81               |                    |                                                                 |            |              |
| 8                                | ?                                                                   |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 9                                | Continuing from 6 – training more epochs                            | 44                       | 57                                                        | 27                   | 81               |                    |                                                                 |            |              |
| 10                               | Copying 3 – but couldn’t reproduce                                  |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 11                               | copy of 3 but only 27 iterations                                    | 54                       | 58                                                        | 35                   | 84               |                    |                                                                 |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| NUM COUNTRIES – IS INTERNATIONAL |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 1                                | NB                                                                  | 70                       | but very imbalanced                                       |                      |                  |                    |                                                                 |            |              |
| 2                                | NB binary                                                           |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 3                                | NB complement                                                       | 60                       | but still very imbalanced, nearly always predicts 1 or 10 |                      |                  |                    |                                                                 |            |              |
| 4                                | NB upsampled for class imbalance                                    | 62                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 5                                | NB no upsampling                                                    | 63                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 6                                | NB with bigrams – first 5 pages only                                | 72                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 7                                | NB with trigrams – first 3pages only                                | 73                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 8                                | NB with bigrams – first 3pages only – 1500 features                 | 73                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 9                                | NB with bigrams – first 3pages only – 1500 features – stopwords     | 73                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 10                               | Spacy Textcat binary classifier in notebook                         |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 11 *                             | Spacy Textcat binary classifier in command line first 3 pages only  | 82                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 12                               | NB with bigrams – first 30 pages – 1500 features – stopwords        | 73                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 13                               | NB with bigrams – first 30 pages – 200 features – stopwords         | 68                       | MAE                                                       |                      |                  |                    |                                                                 |            |              |
| 14                               | Num countries                                                       | 61                       | 3.4                                                       |                      |                  |                    |                                                                 |            |              |
| 15                               | Num countries 3 way – 1, 2-9, 10+                                   | 71                       | it would be 78% if converted to 2-way                     |                      |                  |                    |                                                                 |            |              |
| 16 *                             | Countries 3 way – USCA, LMIC, HIGH\_INCOME                          | 66                       | 78 AUC                                                    |                      |                  |                    |                                                                 |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| COUNTRIES EXACT                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 0 *                              | Country baseline original rule based (not machine learning)         | 47                       |                                                           |                      |                  |                    |                                                                 |            |              |
| 1                                | Keras on candidates masked                                          | 42                       |                                                           |                      |                  |                    |                                                                 |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
|                                  |                                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| SAP                              |                                                                     | Acc                      | AUC                                                       |                      |                  |                    |                                                                 |            |              |
| 0                                | SAP original NB                                                     |                          |                                                           |                      |                  |                    |                                                                 |            |              |
| 1                                | SAP Spacy on 10 pages with relevant terms                           | 68                       | 77                                                        |                      |                  |                    |                                                                 |            |              |
| 2                                | SAP NB whole document                                               | 82                       | 82                                                        |                      |                  |                    |                                                                 |            |              |
| 3                                | SAP limited vocab                                                   | 80                       | 80                                                        |                      |                  |                    |                                                                 |            |              |
| 4 *                              | SAP smaller limited vocab                                           | 86                       | 86                                                        |                      |                  |                    |                                                                 |            |              |
| 5                                | SAP only once per page                                              | 73                       | 73                                                        |                      |                  |                    |                                                                 |            |              |